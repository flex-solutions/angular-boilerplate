<app-card title="Update pos" subTitle="update pos">
  <form class="cmxform" id="createEditForm" [formGroup]="formGroup">
    <fieldset>
      <div class="row">
        <div class="form-group col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
          <label for="image" i18n="@@pos-menu-image">Banner</label>
          <app-dropify #posImageUploader allowedFileExtensions="jpg png jpeg" maxFileSize="500K" [(file)]="pos.image"></app-dropify>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-12" [ngClass]="{'has-danger': name.invalid && (name.dirty || name.touched)}">
          <label for="name" i18n="@@pos-menu-list-th-name">Name</label>
          <label class="require">*</label>
          <input id="name" required class="form-control" formControlName="name" [ngClass]="{'has-danger': name.invalid && (name.dirty || name.touched) }"
            [(ngModel)]="pos.name" placeholder="Enter name">
          <div class="form-control-feedback" *ngFor="let error of errors.name">
            <p *ngIf="name.hasError(error.type) && (name.dirty || name.touched)" class="error mt-2 text-danger">{{translateService.translate(error.message,
              name.value)}}
            </p>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5">
          <div class="form-group" [ngClass]="{'has-danger': address.invalid && (address.dirty || address.touched)}">
            <label for="address" i18n="@@pos-menu-list-th-address">Address</label>
            <label class="require">*</label>
            <input id="address" required class="form-control" formControlName="address" [(ngModel)]="pos.address"
              [ngClass]="{'has-danger': address.invalid && (address.dirty || address.touched) }" i18n-placeholder="@@member-create_edit_member-input-address_place_holder"
              placeholder="Enter address">
            <div class="form-control-feedback" *ngFor="let error of errors.address">
              <p *ngIf="address.hasError(error.type) && (address.dirty || address.touched)" class="error mt-2 text-danger">{{translateService.translate(error.message,
                address.value)}}
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-7" style="padding-left:0">
          <div class="form-group">
            <label for="address">&nbsp;</label>
            <app-address id="address" #posAddress [(cityProvince)]="selectedCity" [(district)]="selectedDistrict"></app-address>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group" [ngClass]="{'has-danger': coordinates.invalid && (coordinates.dirty || coordinates.touched)}">
            <label for="longitude" i18n="@@pos-menu-label-coordinates">Coordinates</label>
            <label class="require">*</label>
            <input id="longitude" required class="form-control" formControlName="coordinates" i18n-placeholder="@@pos-menu-label-coordinates-long" placeholder="Longitude"
            [ngClass]="{'has-danger': coordinates.invalid && (coordinates.dirty || coordinates.touched) }"
            [(ngModel)]="pos.longitude">
            <div class="form-control-feedback" *ngFor="let error of errors.coordinates">
                <p *ngIf="coordinates.hasError(error.type) && (coordinates.dirty || coordinates.touched)" class="error mt-2 text-danger">
                    {{translateService.translate(error.message, coordinates.value)}}
                </p>
              </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group" [ngClass]="{'has-danger': coordinates.invalid && (coordinates.dirty || coordinates.touched)}">
            <label for="latitude">&nbsp;</label>
            <input id="latitude" required class="form-control" formControlName="coordinates" i18n-placeholder="@@pos-menu-label-coordinates-lat" placeholder="Latitude"
            [ngClass]="{'has-danger': coordinates.invalid && (coordinates.dirty || coordinates.touched) }"
            [(ngModel)]="pos.latitude">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-12" [ngClass]="{'has-danger': phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)}">
          <label for="phoneNumber" i18n="@@pos-menu-list-th-phone-number">Phone number</label>
          <label class="require">*</label>
          <input id="phoneNumber" required class="form-control" formControlName="phoneNumber" [ngClass]="{'has-danger': phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched) }"
            [(ngModel)]="pos.phoneNumber" placeholder="Enter phone number">
          <div class="form-control-feedback" *ngFor="let error of errors.phoneNumber">
            <p *ngIf="phoneNumber.hasError(error.type) && (phoneNumber.dirty || phoneNumber.touched)" class="error mt-2 text-danger">{{translateService.translate(error.message,
              phoneNumber.value)}}
            </p>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-md-12">
          <label for="openTime" i18n="@@pos-menu-list-th-open-time">Open time</label>
          <label class="require">*</label>
          <div class="d-flex mb-2" *ngFor="let openTime of pos.openTimes">
            <div class="input-group mb-2 mr-sm-2 mb-sm-0">
              <div class="input-group-prepend">
                <span class="input-group-text" i18n="@@pos-menu-weekdays">@Thứ trong tuần</span>
              </div>
              <input type="text" class="form-control form-control-sm" id="inlineFormInputGroup1" placeholder="Add user"
                [(ngModel)]="openTime.weekDays" [ngModelOptions]="{standalone: true}">
            </div>
            <div class="input-group mb-2 mr-sm-2 mb-sm-0">
              <div class="input-group-prepend">
                <span class="input-group-text" i18n="@@pos-menu-open-time">@Thời gian</span>
              </div>
              <input type="text" class="form-control form-control-sm" id="inlineFormInputGroup1" placeholder="Add user"
                [(ngModel)]="openTime.time" [ngModelOptions]="{standalone: true}">
            </div>
            <button type="submit" class="btn btn-inverse-danger btn-sm mr-2" (click)="deleteOpenTime(openTime)" i18n="@@pos-menu-open-time-delete">Delete</button>
            <button type="submit" class="btn btn-inverse-primary btn-sm" (click)="addNewOpenTime(openTime)" i18n="@@pos-menu-open-time-add">Add</button>
          </div>
        </div>
      </div>

      <!-- Form buttons -->
      <div class="form-cmds always-bottom-panel">
        <button class="btn btn-success mr-2" i18n="@@common_button-submit" (click)="submit()" [disabled]="formGroup.invalid || posImageUploader.error">Submit</button>
        <button class="btn btn-light" i18n="@@common_button-cancel" (click)="cancel()">Cancel</button>
      </div>
      <!-- Form buttons -->

    </fieldset>
  </form>
</app-card>
