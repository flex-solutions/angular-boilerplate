<app-card title="{{cardTitle}}" subTitle="{{cardDescription}}">
  <form class="cmxform" id="createEditForm" [formGroup]="formGroup">
    <fieldset>
      <div class="container">
        <div class="row">
          <div class="col-sm-6">
            <!-- Title field -->
            <div class="form-group" [ngClass]="{
              'has-danger': title.invalid && (title.dirty || title.touched),
              'has-success': title.valid && (title.dirty || title.touched)
         }">
              <label for="title" i18n="@@news-create_edit_news-label-title_field">Title </label>
              <label class="require">*</label> 
              <input id="title" required class="form-control" formControlName="title" i18n-placeholder="@@news-create_edit_news-input-title_place_holder"
                placeholder="Enter title" [(ngModel)]="news.title">
              <label id="title-error" class="error mt-2 text-danger" for="title" i18n="@@news-create_edit_news-label-title_require" *ngIf="title.invalid && (title.dirty || title.touched)">Please provide the title</label>
              <br *ngIf="!(title.invalid && (title.dirty || title.touched))"/>
            </div>
            <div class="form-group">
              <label for="banner" i18n="@@news-create_edit_news-label-banner_field">Banner </label>
              <app-dropify (fileChanged)="onFileChanged($event)" (errors)="onBannerErrors($event)" height="225" (fileRemoved)="onFileRemoved()"
                allowedFileExtensions="jpg png jpeg" maxFileSize="500K" isShowError="false" errorMessage=" " [image]="news.banner" 
                (onFinishedInitialization) = "LoadNews()"></app-dropify>
              <label id="banner-error" class="error text-danger show-errors" for="banner" i18n="@@news-create_edit_news-file_size_error" *ngIf="hasErrorBanner()">The banner size must be lower or equal 500kb</label>
              <br *ngIf="!hasErrorBanner()"/>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="content" i18n="@@news-create_edit_news-label-content_field">Content </label>
              <label class="require">*</label> &nbsp;&nbsp;&nbsp;&nbsp;
              <app-tinymce-editor elementId="contentEditor" [content]="news.content" (onEditorContentChange)="onHtmlEditorChange($event)" (onBlur)="onTinyEditorBlur($event)" editorHeight="200" [hasError]="hasEmptyAndBlurContent()" (onEmptyRawContent)="onContentEmpty($event)"></app-tinymce-editor>
              <label id="content-error" class="error text-danger show-errors" for="content" i18n="@@news-create_edit_news-label-content_require" *ngIf="hasEmptyAndBlurContent()">Please provide the content</label>
              <br *ngIf="!hasEmptyAndBlurContent()"/>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <button *ngIf="!isEdit" class="btn btn-primary mr-2" i18n="@@news-create_edit_news-button-submit" (click)="submit()">Submit</button>
        <button *ngIf="!isEdit" class="btn btn-success  mr-2" i18n="@@news-create_edit_news-button-submit_publish" (click)="submitAndPublishNews()">Submit & publish</button>
        <button *ngIf="isEdit" class="btn btn-success  mr-2" i18n="@@news-create_edit_news-button-save" (click)="saveNews()">Save</button>
        <button class="btn btn-light  mr-2" i18n="@@news-create_edit_news-button-cancel" (click)="cancel()">Cancel</button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="form-group" *ngIf="!isEdit">
          <div class="form-check form-check-flat">
            <label class="form-check-label">
              <input type="checkbox" formControlName="createAnother" class="form-check-input form-control" [(ngModel)]="isCreateAnother">
              <i class="input-helper"></i>
              <label class="form-check-label" i18n="@@news-create_edit_news-label-create_another_news"> Create another</label>
            </label>
          </div>
        </div>
      </div>
      <!-- Form buttons -->

    </fieldset>
  </form>
</app-card>